{"ast":null,"code":"import { ChatForm } from \"../../pages/model.model\";\nimport { formatDate } from \"@angular/common\";\nimport Swal from \"sweetalert2\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nfunction ChatbotComponent_ng_container_13_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\")(2, \"div\", 17)(3, \"div\", 18)(4, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_ng_container_13_div_3_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.form.nom = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 17)(6, \"div\", 18)(7, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_ng_container_13_div_3_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.form.prenom = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 17)(9, \"div\", 18)(10, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_ng_container_13_div_3_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.form.email = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 17)(12, \"div\", 18)(13, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_ng_container_13_div_3_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.form.telephone = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 17)(15, \"div\", 18)(16, \"textarea\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_ng_container_13_div_3_Template_textarea_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.form.message = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 17)(18, \"div\", 24)(19, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ChatbotComponent_ng_container_13_div_3_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.AddFormChat());\n    });\n    i0.ɵɵtext(20, \"Envoyer\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.form.nom)(\"ngModelOptions\", i0.ɵɵpureFunction0(10, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.form.prenom)(\"ngModelOptions\", i0.ɵɵpureFunction0(11, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.form.email)(\"ngModelOptions\", i0.ɵɵpureFunction0(12, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.form.telephone)(\"ngModelOptions\", i0.ɵɵpureFunction0(13, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.form.message)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c0));\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"from\": a0,\n    \"to\": a1\n  };\n};\nfunction ChatbotComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, ChatbotComponent_ng_container_13_div_3_Template, 21, 15, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c1, message_r1.author === \"LEACONSEIL\", message_r1.author === \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", message_r1.content, \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r1.author === \"LEACONSEIL\" && message_r1.content != \"Votre donn\\u00E9es sont bien envoy\\u00E9es, nous vous contacterons dans les brefs delais.\");\n  }\n}\nexport class ChatbotComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.messages = [];\n    this.isVisible = true;\n    this.form = new ChatForm();\n  }\n  ngOnInit() {\n    this.chatService.conversation.subscribe(val => {\n      this.messages = this.messages.concat(val);\n    });\n    this.form.DateAjout = formatDate(new Date(), \"MMM d, y, h:mm:ss a\", \"en\");\n  }\n  toggleSwitcher() {\n    this.isVisible = !this.isVisible;\n  }\n  getValue(event) {\n    this.value = event.target.value;\n    this.sendMessage();\n  }\n  sendMessage() {\n    this.chatService.getBotAnswer(this.value);\n    this.value = \"\";\n  }\n  AddFormChat() {\n    if (!this.form.nom || !this.form.prenom || !this.form.email || !this.form.telephone || !this.form.DateAjout || !this.form.message) {\n      Swal.fire({\n        title: \"Tous les champs sont obligatoires !\",\n        position: \"top-right\",\n        text: \"\",\n        showConfirmButton: false,\n        timer: 3000,\n        icon: \"error\"\n      });\n    } else {\n      this.chatService.ChatForm(this.form).subscribe(res => {\n        this.response = res;\n        if (this.response.message == \"FomrChat created succefully\") {\n          this.chatService.getBotAnswer(\"Formulaire Envoyé\");\n          this.form.nom = \"\";\n          this.form.prenom = \"\";\n          this.form.email = \"\";\n          this.form.telephone = \"\";\n          this.form.message = \"\";\n        } else {\n          Swal.fire({\n            title: \"Quelque chose ne marche pas !\",\n            text: \"\",\n            showConfirmButton: false,\n            timer: 3000,\n            icon: \"error\"\n          });\n        }\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ChatbotComponent_Factory(t) {\n    return new (t || ChatbotComponent)(i0.ɵɵdirectiveInject(i1.Chatservice));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatbotComponent,\n    selectors: [[\"app-chatbot\"]],\n    decls: 18,\n    vars: 3,\n    consts: [[1, \"chatbot\", 3, \"click\"], [\"src\", \"../../../../assets/img/chat.webp\"], [1, \"chatbotpart\", 3, \"hidden\"], [1, \"card\"], [1, \"card-header\", \"center\", \"text-primary\"], [\"src\", \"../../../../assets/img/choose.webp\", \"width\", \"50px\", \"height\", \"50px\"], [\"type\", \"button\", 1, \"red\", 3, \"click\"], [1, \"bx\", \"bx-chevron-down\"], [1, \"card-body\"], [1, \"frame-box\"], [4, \"ngFor\", \"ngForOf\"], [1, \"container\"], [\"type\", \"text\", \"placeholder\", \"Votre message\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bx\", \"bxs-paper-plane\"], [1, \"message\", 3, \"ngClass\"], [4, \"ngIf\"], [1, \"row\", \"mt-2\"], [1, \"col-md-12\"], [\"placeholder\", \"Votre Nom\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"placeholder\", \"Votre Pr\\u00E9nom\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"placeholder\", \"Votre Email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"placeholder\", \"Votre Num\\u00E9ro T\\u00E9l\\u00E9phone\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"placeholder\", \"Votre message\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"col-md-6\"], [1, \"default-btn\", 3, \"click\"]],\n    template: function ChatbotComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_a_click_0_listener() {\n          return ctx.toggleSwitcher();\n        });\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h4\", 4);\n        i0.ɵɵelement(5, \"img\", 5);\n        i0.ɵɵtext(6, \"LEA CONSEIL \");\n        i0.ɵɵelementStart(7, \"a\", 6);\n        i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_a_click_7_listener() {\n          return ctx.toggleSwitcher();\n        });\n        i0.ɵɵelement(8, \"i\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"h6\", 4);\n        i0.ɵɵtext(10, \"Nous sommes hors ligne\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9);\n        i0.ɵɵtemplate(13, ChatbotComponent_ng_container_13_Template, 4, 6, \"ng-container\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11)(15, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.value = $event;\n        })(\"keyup.enter\", function ChatbotComponent_Template_input_keyup_enter_15_listener() {\n          return ctx.sendMessage();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_button_click_16_listener() {\n          return ctx.sendMessage();\n        });\n        i0.ɵɵelement(17, \"i\", 14);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.isVisible);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.value);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\".chatbot[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 80%;\\n  width: 189px;\\n  z-index: 9999;\\n  padding: 10px 5px;\\n  left: 94%;\\n}\\n\\n@media only screen and (max-width: 767px) {\\n  .chatbot[_ngcontent-%COMP%] {\\n    top: 80%;\\n    width: 189px;\\n    z-index: 9999;\\n    padding: 10px 5px;\\n    left: 75%;\\n  }\\n  .chatbotpart[_ngcontent-%COMP%] {\\n    position: fixed;\\n    top: 5% !important;\\n    width: 350px !important;\\n    z-index: 9999;\\n    padding: 10px 5px;\\n    left: 0% !important;\\n  }\\n}\\n.chatbotpart[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 15%;\\n  width: 400px;\\n  z-index: 9999;\\n  padding: 10px 5px;\\n  left: 65%;\\n}\\n\\n.chatbotpart[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\n  border-radius: 30px;\\n  height: 550px;\\n}\\n\\n.frame-box[_ngcontent-%COMP%] {\\n  overflow-y: scroll;\\n  border-radius: 15px;\\n  height: 350px;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  margin: 0 15px 20px;\\n  padding: 10px 20px;\\n  position: relative;\\n}\\n\\n.message.to[_ngcontent-%COMP%] {\\n  background-color: #2095FE;\\n  color: #ffffff;\\n  margin-left: 100px;\\n  text-align: right;\\n}\\n\\n.message.from[_ngcontent-%COMP%] {\\n  background-color: #e5e4e9;\\n  color: #363636;\\n  margin-right: 100px;\\n  width: 300px;\\n}\\n\\n.message.to[_ngcontent-%COMP%]    + .message.to[_ngcontent-%COMP%], .message.from[_ngcontent-%COMP%]    + .message.from[_ngcontent-%COMP%] {\\n  margin-top: -10px;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  border-radius: 30px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  border-radius: 30px;\\n}\\n\\n.bot[_ngcontent-%COMP%] {\\n  background-color: rgba(32, 150, 254, 0.5450980392);\\n  color: white;\\n}\\n\\n.red[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sYXlvdXRzL2NoYXRib3QvY2hhdGJvdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFNBQUE7QUFDSjs7QUFDQTtFQUNJO0lBQ0ksUUFBQTtJQUNBLFlBQUE7SUFDQSxhQUFBO0lBQ0EsaUJBQUE7SUFDQSxTQUFBO0VBRU47RUFBRTtJQUNJLGVBQUE7SUFDQSxrQkFBQTtJQUNBLHVCQUFBO0lBQ0EsYUFBQTtJQUNBLGlCQUFBO0lBQ0EsbUJBQUE7RUFFTjtBQUNGO0FBQUE7RUFDSSxlQUFBO0VBQ0EsUUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0FBRUo7O0FBQUE7RUFDSSxtQkFBQTtFQUNBLGFBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBSUo7O0FBRkE7RUFDSSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQUtKOztBQUZBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQUtKOztBQUZBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FBS0o7O0FBRkE7O0VBRUksaUJBQUE7QUFLSjs7QUFGQTtFQUNBLG1CQUFBO0FBS0E7O0FBSEE7RUFDSSxtQkFBQTtBQU1KOztBQUhBO0VBQ0ksa0RBQUE7RUFDQSxZQUFBO0FBTUo7O0FBSkE7RUFDSSxrQkFBQTtBQU9KOztBQUxBO0VBQ0ksYUFBQTtFQUNBLDhCQUFBO0VBQ0EsZ0JBQUE7QUFRSiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGF0Ym90e1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDgwJTtcbiAgICB3aWR0aDogMTg5cHg7XG4gICAgei1pbmRleDogOTk5OTtcbiAgICBwYWRkaW5nOiAxMHB4IDVweDtcbiAgICBsZWZ0OiA5NCU7XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7XG4gICAgLmNoYXRib3R7XG4gICAgICAgIHRvcDogODAlO1xuICAgICAgICB3aWR0aDogMTg5cHg7XG4gICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggNXB4O1xuICAgICAgICBsZWZ0OiA3NSU7XG4gICAgfVxuICAgIC5jaGF0Ym90cGFydHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDUlICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiAzNTBweCAhaW1wb3J0YW50O1xuICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDVweDtcbiAgICAgICAgbGVmdDogMCUgIWltcG9ydGFudDtcbiAgICB9XG59XG4uY2hhdGJvdHBhcnR7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMTUlO1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICB6LWluZGV4OiA5OTk5O1xuICAgIHBhZGRpbmc6IDEwcHggNXB4O1xuICAgIGxlZnQ6IDY1JTtcbn1cbi5jaGF0Ym90cGFydCAuY2FyZHtcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgIGhlaWdodDogNTUwcHg7XG59XG4uZnJhbWUtYm94e1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGhlaWdodDogMzUwcHg7XG59XG4ubWVzc2FnZXtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIG1hcmdpbjogMCAxNXB4IDIwcHg7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLm1lc3NhZ2UudG97XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIwOTVGRTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5tZXNzYWdlLmZyb217XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZTRlOTtcbiAgICBjb2xvcjogIzM2MzYzNjtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAzMDBweDtcbn1cblxuLm1lc3NhZ2UudG8gKyAubWVzc2FnZS50byxcbi5tZXNzYWdlLmZyb20gKyAubWVzc2FnZS5mcm9te1xuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xufVxuXG4uZm9ybS1jb250cm9se1xuYm9yZGVyLXJhZGl1czogMzBweDtcbn1cbi5idG57XG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcbn1cblxuLmJvdHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjA5NmZlOGI7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuLnJlZHtcbiAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG59XG4uY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICB9XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["ChatForm","formatDate","Swal","i0","ChatbotComponent","constructor","chatService","ngOnInit","conversation","subscribe","val","messages","concat","form","DateAjout","Date","toggleSwitcher","isVisible","getValue","event","value","target","sendMessage","getBotAnswer","AddFormChat","nom","prenom","email","telephone","message","fire","title","position","text","showConfirmButton","timer","icon","res","response","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/urbancom/Desktop/ACE/assosiation_website/src/app/components/layouts/chatbot/chatbot.component.ts","/Users/urbancom/Desktop/ACE/assosiation_website/src/app/components/layouts/chatbot/chatbot.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { Chatservice, Message } from \"src/app/services/chat.service\";\nimport { ChatForm } from \"../../pages/model.model\";\nimport { formatDate } from \"@angular/common\";\nimport Swal from \"sweetalert2\";\n@Component({\n    selector: \"app-chatbot\",\n    templateUrl: \"./chatbot.component.html\",\n    styleUrls: [\"./chatbot.component.scss\"],\n})\nexport class ChatbotComponent implements OnInit {\n    messages: Message[] = [];\n    value: string;\n    isVisible = true;\n    form = new ChatForm();\n    response: any;\n    constructor(public chatService: Chatservice) {}\n    ngOnInit(): void {\n        this.chatService.conversation.subscribe((val) => {\n            this.messages = this.messages.concat(val);\n        });\n        this.form.DateAjout = formatDate(\n            new Date(),\n            \"MMM d, y, h:mm:ss a\",\n            \"en\"\n        );\n    }\n    toggleSwitcher() {\n        this.isVisible = !this.isVisible;\n    }\n    getValue(event: any) {\n        this.value = event.target.value;\n        this.sendMessage();\n    }\n    sendMessage() {\n        this.chatService.getBotAnswer(this.value);\n        this.value = \"\";\n    }\n    AddFormChat() {\n        if (\n            !this.form.nom ||\n            !this.form.prenom ||\n            !this.form.email ||\n            !this.form.telephone ||\n            !this.form.DateAjout ||\n            !this.form.message\n        ) {\n            Swal.fire({\n                title: \"Tous les champs sont obligatoires !\",\n                position: \"top-right\",\n                text: \"\",\n                showConfirmButton: false,\n                timer: 3000,\n                icon: \"error\",\n            });\n        } else {\n            this.chatService.ChatForm(this.form).subscribe((res) => {\n                this.response = res;\n                if (this.response.message == \"FomrChat created succefully\") {\n                    this.chatService.getBotAnswer(\"Formulaire Envoyé\");\n                    this.form.nom = \"\";\n                    this.form.prenom = \"\";\n                    this.form.email = \"\";\n                    this.form.telephone = \"\";\n                    this.form.message = \"\";\n                } else {\n                    Swal.fire({\n                        title: \"Quelque chose ne marche pas !\",\n                        text: \"\",\n                        showConfirmButton: false,\n                        timer: 3000,\n                        icon: \"error\",\n                    });\n                }\n            });\n        }\n    }\n}\n","<a class=\"chatbot\" (click)=\"toggleSwitcher()\"><img src=\"../../../../assets/img/chat.webp\"></a>\n<div class=\"chatbotpart\" [hidden]=\"isVisible\">\n    <div class=\"card\">\n        <h4 class=\"card-header center text-primary\">\n            <img src=\"../../../../assets/img/choose.webp\" width=\"50px\" height=\"50px\">LEA CONSEIL <a class=\"red\"\n                type=\"button\" (click)=\"toggleSwitcher()\"><i class=\"bx bx-chevron-down\"></i></a>\n        </h4>\n        <h6 class=\"card-header center text-primary\">Nous sommes hors ligne</h6>\n        <div class=\"card-body\">\n            <div class=\"frame-box\">\n                <ng-container *ngFor=\"let message of messages\">\n                    <div class=\"message\" [ngClass]=\"{'from':message.author==='LEACONSEIL',\n                        'to':message.author===''}\">{{message.content}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div\n                            *ngIf=\"message.author==='LEACONSEIL' && message.content!='Votre données sont bien envoyées, nous vous contacterons dans les brefs delais.'\">\n                            <form>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-12\"><input class=\"form-control\" placeholder=\"Votre Nom\"\n                                            [(ngModel)]=\"form.nom\" [ngModelOptions]=\"{standalone:\n                                            true}\" required></div>\n                                </div>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-12\"><input class=\"form-control\" placeholder=\"Votre Prénom\"\n                                            [(ngModel)]=\"form.prenom\" [ngModelOptions]=\"{standalone:\n                                            true}\" required></div>\n                                </div>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-12\"><input class=\"form-control\" placeholder=\"Votre Email\"\n                                            [(ngModel)]=\"form.email\" [ngModelOptions]=\"{standalone:\n                                            true}\" required></div>\n                                </div>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-12\"><input class=\"form-control\"\n                                            placeholder=\"Votre Numéro Téléphone\" [(ngModel)]=\"form.telephone\"\n                                            [ngModelOptions]=\"{standalone:\n                                            true}\" required></div>\n                                </div>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-12\"><textarea class=\"form-control\" placeholder=\"Votre message\"\n                                            [(ngModel)]=\"form.message\" [ngModelOptions]=\"{standalone:\n                                            true}\" required></textarea></div>\n                                </div>\n                                <div class=\"row mt-2\">\n                                    <div class=\"col-md-6\"><button class=\"default-btn\"\n                                            (click)=\"AddFormChat()\">Envoyer</button></div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n            <div class=\"container\">\n                <input class=\"form-control\" type=\"text\" [(ngModel)]=\"value\" (keyup.enter)=\"sendMessage()\"\n                    placeholder=\"Votre message\" name=\"name\" required>\n                <button type=\"submit\" class=\"btn btn-primary\" (click)=\"sendMessage()\"><i\n                        class=\"bx bxs-paper-plane\"></i></button>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}